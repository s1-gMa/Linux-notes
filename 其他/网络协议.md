# 1. TCP/IP

## 七层网络协议:(OSI模型)

- **应用层**
- **表示层**
- **会话层**
- **传输层**
- **网络层**
- **数据链路层**
- **物理层**

## 1.1TCP/IP协议族

- 应用层(`HTTP/FTP/SMTP/SSH/DNS`)
	- 供用户使用
- 传输层(`TCP/UDP`)
	- `TCP`: 可靠传输 需要进行完整数据验证
	- `UDP`: 不可靠传输 不进行数据验证
- 网络层(`ICMP/IP/IGMP`)
- 链路层(`ARP/RARP`)
- 物理层

## 1.2 TCP三次握手＆四次挥手:

**1.三次握手:**
1. 客户端->服务端: SYN(我要连你)
2. 服务端->客户端: SYN+ACK(同意连接 确认一下)
3. 客户端->服务端: ACK(确认了 开始发)

**2.四次挥手:**
1. A发FIN(我要关了)
2. B发ACK(知道你要关)
3. B开始处理数据 处理结束发送FIN(我也要关了)
4. A发送ACK(收到) 进入TIME_WAIT等待结束

**IP寻址 子网掩码 网关的关系:**

- **IP: 标识一台主机**
- **子网掩码: 决定前面多少位是网络号 后面多少位是主机号**
- **网关: 转发内容到WAN/LAN**
	- IP+子网掩码划分网络号和主机号 区别主机
	- 网关帮助去别的网络

# 2. DHCP

## 2.1 概念

- 自动分配IP 子网掩码 网关 DNS等配置
- 解决手动配置问题

## 2.2 DORA流程

1. `Discover`(发现)
	客户端发广播: 有DHCP服务器吗?
2. `Offer`(提供)
	服务器回应IP地址配置方案和租期
3. `Request`(要求)
	客户端广播说: 我想用服务器给我的那组IP
4. `ACK`(确认)
	服务器确认组IP 客户端使用

# 3. Firewall

## 3.1概念
用于控制哪些网络流量可以通过 哪些可以拦截

## 3.2 iptables(Linux防火墙)

**原理:**
- 表(`table`)
- 链(`chain`)
- 规则(`rule`)

**基本指令:**
```bash
iptables -t <table> -A <chain> [匹配条件] -j <动作>
```

# 4. LAN

**LAN:` Local Area Network `局域网**
## 4.1 原理
- 底层用交换机或WIFI连接各个设备
- 同一LAN中的设备:
	- IP在同一网段
	- 通过交换机根据 MAC 地址表进行二层转发 实现同一 LAN 内设备通信

**私有 IP 地址范围:**
只能在LAN中使用
连接Internet通过NAT将私有IP转为公网IP
- **1. 10.0.0.0 ~ 10.255.255.255**
- **2. 172.16.0.0 ~ 172.31.255.255**
- **3. 192.168.0.0 ~ 192.168.255.255**

# 5. WAN

**WAN: *Wide Area Network* 广域网**

## 5.1 原理
- 多个LAN通过运营商和网络互联形成的大网络
- 运营商分配IP

## 5.2 WAN和LAN区别

- **WAN: 面向运营商/上级网络**
- **LAN: 面向内部设备**